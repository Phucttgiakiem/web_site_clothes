@model IEnumerable<Website_clothe.Models.Danhmucsanpham>
@{
    var kq = ViewBag.ctdm;
}
@*<nav class="navbar navbar-expand-sm bg-white">
        <div class="container-fluid mt-2 mb-2">
            <div class="row w-100 m-0 fs-4 align-items-center">
                <div class="col-1 d-flex align-items-center">
                    <a href="#" class="m-0">
                        <img src="~/Content/img/clothing_logo.png" class="object-fit-cover w-100 h-100" />
                    </a>
                </div>

                    <div class="col-4">

                        <ul class="navbar-nav me-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="#">Trang chủ</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">Danh mục</a>
                                <div class="dropdown-menu">
                                    @foreach (var item in Model)
                                    {
                                        <ul>
                                            <li><a class="dropdown-item" href="#">@item.Tendanhmuc</a></li>
                                            @foreach (var item2 in kq)
                                            {
                                                if (item2.Madanhmuc == item.Madanhmuc)
                                                {
                                                    <li>
                                                        <a class="dropdown-item" href="#">@item2.Tenchitietdanhmuc</a>
                                                    </li>
                                                }
                                            }
                                        </ul>
                                    }
                                </div>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Liên hệ</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-4">
                        <form class="d-flex">
                            <input class="form-control me-2" type="text" placeholder="Tìm kiếm"/>
                            <button class="btn btn-primary" type="button">Tìm</button>
                        </form>
                    </div>
                    <div class="col-1">

                    </div>
                    <div class="col-1 d-flex align-items-center">
                        <a href="#" class="d-flex flex-column align-items-center w-100 text-black" style="text-decoration:none;">
                            <i class="fas fa-shopping-cart object-fit-cover mb-2 fs-6"></i>
                            <p class="fs-6 m-0 text-center">Giỏ hàng</p>
                        </a>
                    </div>
                    <div class="col-1 d-flex align-items-center">
                        <a href="#" class="d-flex flex-column align-items-center w-100 text-black" style="text-decoration:none;">
                            <i class="far fa-user-circle object-fit-cover mb-2 fs-6"></i>
                            <p class="fs-6 m-0 text-center">Tài khoản</p>
                        </a>
                    </div>
            </div>
        </div>
    </nav>*@

<div id="header">
    <a href="#" class="logo">FASHIONSHOP</a>
    <div id="mobile-menu" class="mobile-menu-btn">
        <i class="fas fa-bars"></i>
    </div>
    <nav class="header__navbar">
        <ul class="header___navbar-list">
            <li class="header__navbar-item">
                <a href="#" class="header__navbar-item-link">Trang chủ</a>
            </li>
            <li class="header__navbar-item">
                <a href="#" class="header__navbar-item-link">Danh mục</a>
                <div class="sub-nav">
                    @foreach (var item in Model)
                    {
                        <ul>
                            <li><a href="#">@item.Tendanhmuc</a></li>
                            @foreach (var item2 in kq)
                            {
                                if (item2.Madanhmuc == item.Madanhmuc)
                                {
                                    <li>
                                        <a class="" href="#">@item2.Tenchitietdanhmuc</a>
                                    </li>
                                }
                            }
                        </ul>
                    }
                </div>


            </li>
            <li class="header__navbar-item">
                <a href="#" class="header__navbar-item-link">Liên hệ</a>
            </li>
        </ul>
        <div class="header___search">
            <form>
                <input class="" type="text" placeholder="Tìm kiếm" />
                <a href="#" class="material-icon">
                    <i class="fas fa-search"></i>
                </a>
            </form>
        </div>
        <ul class="header___navbar-list">
            <li class="header__navbar-item">
                <a href="#" class="item--sub">
                    <i class="fas fa-shopping-cart"></i>
                    @*<span>Giỏ hàng</span>*@
                    <p class="">Giỏ hàng</p>
                </a>
            </li>
            <li class="header__navbar-item">
                <a href="#" class=" item--sub">
                    <i class="far fa-user-circle"></i>
                    @*<span>Đăng nhập</span>*@
                    <p class="">Đăng nhập</p>
                </a>
            </li>
        </ul>
    </nav>

</div>
<script>
    var header = document.getElementById("header");
    var mobilemenu = document.getElementById("mobile-menu");
    var headerHeight = header.clientHeight;
    mobilemenu.onclick = function () {
        var isClosed = header.clientHeight === headerHeight;
        if (isClosed) {
            header.style.height = 'auto';
        }
        else {
            header.style.height = null;
        }
        
    }
        //tự động đóng khi chọn menu
    var menuItems = document.querySelectorAll('a[href*="#"]');
    for (var i = 0; i < menuItems.length; i++) {
        var menuItem = menuItems[i];
        console.log(menuItem.nextElementSibling);

        menuItem.onclick = function (event) {
            var isParentMenu = this.nextElementSibling && this.nextElementSibling.classList.contains("sub-nav");
            if (isParentMenu) {
                event.preventDefault();
            } else {
                header.style.height = null;
            }
        }
    }
        
</script>